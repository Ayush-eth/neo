
from django.shortcuts import render
from django.http import HttpResponse
from pyrebase import pyrebase
from pyChatGPT import ChatGPT
# Create your views here.
def index(request):
    return render(request,'index.html')

def generate(request):
    desc=request.POST.get('video')
    session_token="eyJhbGciOiJkaXIiLCJlbmMiOiJBMjU2R0NNIn0..Iw6iUVG3xkEvASfh.wnJvWQrwteU-NYiYpJsSQXBrfJQl2B7Lw_SxM2jk2q6VIwiq_IA3fH88tOUgqYPZQOP_SWCSc9k-YqyzDiuaZ2iWUbwAsfSkeeyHatO7ienOmkmTvGI210K7QPqYmTaMTEnj40tXKT1X_37R0XPB43MEp_GHTP_F8ZL0YqRIbQ1rr2mbegMj1bunH-LPAXXGbjAdTvnGUTkoNrvIHIbn4PNlZRC1V4UYihZWapdECR4pfwXUQmEf_M2zuAXLKo30JPPzahK_vDHrrgW-8MxnWsNSJkx1ldep4gO__jm1I1rMVGdCN4dnjusiYUt6nVo3t7x0ts09XwoJ-eAuqtjH5B6R2l8UrU9JeIdme0xWdWqx19vY0If8E59tsx6dO-cn1923bKDaTV7RHLtlca3o7LcPaf2cCBxUKZQNJp4mLzgAy-kEiVqCz2dQFGJl8D9sRzyiqRSqcyEnV3HdDoN7xRgf0vUxwGUa156jUV9RmCe6WX8xi6OesYo7Fv-iZxw5H0YKWH8T5eCw1qsspPsQ1YeWfHOkbWwuSgZGfzUYXKPxDcQB9DpEGZFZwoRLV4p8JsI2y4b_ZpAWi8Oqkl30gnk9q8IYPheCqMxzJuztlXMeJrv3gwRAWLmgCTETjjr3soA3lWgkB0SploeS7KwtNlP2Stgt7ZpsJSknqyXOtk4WRMGrZLJQoP_R0bbeo9a1W_8LFeVlBfn8zMlJaX-tvWOn4ueJDSCpPLo4T8dzuZkeEpqNHf3t8NjDs8Yde4303W9Y206v0p4ZEqfqnpUd8EdIc6vOocLdnj2MVydWedglbuP4xn6wOaK9vAPyx41iBLjrLaRQ4nPuYzynH5GHJ69D8GT0TMx-M9maEyfRymRXNdENZyBGX-QKnM1IhjW3PVkl1FU-YeXrCotlwXL8C1tq2SPF74MzdRh2ccggTTLJGMUS7J1MaeiG1ue_IsjJ_i_SAJl0FFg_Buu1pZjXeZmXME-VV_xIVrERdg_911d5lpwHEkAC6FLaJzh7jXVYf4Rt_8tm4q7maTTf97t_4r_Fk544OIfVxKj38wVt-nl3eRcDakbNjh39rDiG8QKC1YCQnDRk2sxpAuwGQCX2N42N0fcjH7v0VW9BFVwu7HUIPdXDzVylU7gI_GyCUIqH1NcFA-s5AcCvJzrLESwj_B825AefNqGrWddeiqbMwVj-4YZ5OFt7w2-lZeRSbMCapfQskFlY6GRwKKHAYxh9LBqC3wu9VIqfAY5QxMq_x4qoHQgHXY00O_XEmd9eO0_upeFVg6-ofSvCk7ZpRm9U4byif4wS5iG5F7MSr3w-F5-DFhPxfIDkWxyVVuKCqg0OItHiSeHCziXAT9foGBpltseetvODq3qF1Qz62gJB4AMfhMB-kOmPpiwlreulsfWJT-xTZeOIc-JC-FOq4-oy8qtVjmpXlimhO511uPLfx2AWYjCzDTuPniKCnUtpNMm6ivKgzqOeS1MGgQHSxBJSX1KaP4MmEbqKINrAqtprnyNVpKR2Stts3Zfy02bUE2AYEo1LppvPp3Nh6zXN9YXm7-s4EC28W_SGgMyySqA5x-KVhkgsVPJXjthQYfpiKEWGvj5AUQt0dlr5F16WZ4c5kDJvyoc-uP5FDOJMh3cc30pms6FtEU968Acq3FO9QPPOtloYfNQ1KCo2-LcyPCbeQq4swZ2BgMqsefO6h-gxFvEkH7xxGEGX7O1-F7LmKDVZaLw87f9nlaD62xgh70Uq_wXzDhfEcs-FZfOBdau3VuzvDRn0CpqbhvA3OsjUsy2UdlimREDTzmMZD0koWMR1UqzZPsgPS3wRKi_WRmbTEowNhuRxXghv8AOVrS6sYTPQV9iTjBXD4zhba-6QSvM39ayL5EvC82zLGf586zRa_w8cr9lvHK9Tv5P0TgML5W2On9pc1tnVnhPVlRMndexrQoopLoiZc88yRjy9jn0JAtFVrfvnh1a-aacA0Fu4-upKezSYeFNeU00PTFLoYYyqjt9SlyNReEoCkotlNLNVb79g_NWQucUc7s_bXCNKNNcgAjmxAonwyUybzhREyzQiw3_vSDvIpLH2mRHiukWgiaYdIuoodAlaZ3goUV8bLEBtRg4o95XcwPvxAHwuABFUFmRXJWXRzu_8TO6p4ZDTV0a1R3MlWj2OMyX-62F7Fev2aeoGTrUEhVSlYN2oYCS4oCqwHQx5J44mTtgr0VDFV_7Z0F0vw6UX--nQN0z2d6Bu3l8IpdulICm1UP5YuWua4cehX1PKe-PUe9yGCg.4Qd1NRPKXy9ZCCYM5iIJLw"
    api = ChatGPT(session_token)
    response =api.send_message(desc)
    print (response["message"])

    return render(request,'generate.html')
